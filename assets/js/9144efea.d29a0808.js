"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[5414],{600:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"module-02-digital-twin/week-07/ch09-unity-viz","title":"Unity for Robot Visualization","description":"Learning Objectives","source":"@site/docs/module-02-digital-twin/week-07/ch09-unity-viz.md","sourceDirName":"module-02-digital-twin/week-07","slug":"/module-02-digital-twin/week-07/ch09-unity-viz","permalink":"/AI_COURSE_book/docs/module-02-digital-twin/week-07/ch09-unity-viz","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-02-digital-twin/week-07/ch09-unity-viz.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"ch09-unity-viz","title":"Unity for Robot Visualization","sidebar_label":"Unity Visualization","sidebar_position":1},"sidebar":"textbookSidebar","previous":{"title":"Sensor Modeling in Simulation","permalink":"/AI_COURSE_book/docs/module-02-digital-twin/week-06/ch08-sensor-modeling"},"next":{"title":"Digital Twin Concepts","permalink":"/AI_COURSE_book/docs/module-02-digital-twin/week-07/ch10-digital-twin"}}');var t=i(4848),r=i(8453);const o={id:"ch09-unity-viz",title:"Unity for Robot Visualization",sidebar_label:"Unity Visualization",sidebar_position:1},l="Unity for Robot Visualization",a={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"1. Unity Fundamentals",id:"1-unity-fundamentals",level:2},{value:"Unity Editor Overview",id:"unity-editor-overview",level:3},{value:"GameObjects and Components",id:"gameobjects-and-components",level:3},{value:"Coordinate Systems",id:"coordinate-systems",level:3},{value:"Materials and Rendering",id:"materials-and-rendering",level:3},{value:"2. ROS-Unity Bridge",id:"2-ros-unity-bridge",level:2},{value:"Installation and Setup",id:"installation-and-setup",level:3},{value:"Publishing from Unity to ROS",id:"publishing-from-unity-to-ros",level:3},{value:"Subscribing in Unity to ROS",id:"subscribing-in-unity-to-ros",level:3},{value:"Service Calls from Unity",id:"service-calls-from-unity",level:3},{value:"3. 3D Visualization",id:"3-3d-visualization",level:2},{value:"Importing Robot Models",id:"importing-robot-models",level:3},{value:"Visualizing Sensor Data",id:"visualizing-sensor-data",level:3},{value:"Trajectory Visualization",id:"trajectory-visualization",level:3},{value:"4. User Interfaces",id:"4-user-interfaces",level:2},{value:"Unity UI (uGUI) Basics",id:"unity-ui-ugui-basics",level:3},{value:"Robot Control Panel Example",id:"robot-control-panel-example",level:3},{value:"Telemetry Dashboard",id:"telemetry-dashboard",level:3},{value:"5. Real-Time Rendering",id:"5-real-time-rendering",level:2},{value:"Frame Rate Optimization",id:"frame-rate-optimization",level:3},{value:"Camera Setup for Robotics",id:"camera-setup-for-robotics",level:3},{value:"Lighting for Clarity",id:"lighting-for-clarity",level:3},{value:"Summary",id:"summary",level:2},{value:"Review Questions",id:"review-questions",level:2},{value:"Hands-on Exercises",id:"hands-on-exercises",level:2},{value:"Exercise 1: Basic Unity Scene",id:"exercise-1-basic-unity-scene",level:3},{value:"Exercise 2: Sensor Visualization",id:"exercise-2-sensor-visualization",level:3},{value:"Exercise 3: Control Dashboard",id:"exercise-3-control-dashboard",level:3},{value:"Further Reading",id:"further-reading",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"unity-for-robot-visualization",children:"Unity for Robot Visualization"})}),"\n",(0,t.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Understand Unity game engine fundamentals for robotics visualization"}),"\n",(0,t.jsx)(e.li,{children:"Set up and configure the ROS-Unity bridge for real-time communication"}),"\n",(0,t.jsx)(e.li,{children:"Create 3D visualizations of robot models and sensor data"}),"\n",(0,t.jsx)(e.li,{children:"Build interactive user interfaces for robot control and monitoring"}),"\n",(0,t.jsx)(e.li,{children:"Implement real-time rendering for smooth visualization"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(e.p,{children:["While Gazebo excels at physics simulation, ",(0,t.jsx)(e.strong,{children:"Unity"})," provides superior visualization, user interface design, and cross-platform deployment. Unity is a professional game engine used to create immersive 3D experiences, and it's increasingly adopted in robotics for:"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Why Unity for robotics?"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Photorealistic rendering"}),": High-quality graphics for presentations and demos"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Rich UI toolkit"}),": Build intuitive control panels and dashboards"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Cross-platform"}),": Deploy to Windows, Mac, Linux, mobile, VR/AR"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Performance"}),": Optimized 3D rendering at 60+ FPS"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Asset ecosystem"}),": Thousands of 3D models, materials, and effects"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Unity vs Gazebo:"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Feature"}),(0,t.jsx)(e.th,{children:"Gazebo"}),(0,t.jsx)(e.th,{children:"Unity"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Physics simulation"})}),(0,t.jsx)(e.td,{children:"Excellent"}),(0,t.jsx)(e.td,{children:"Good (PhysX)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Visualization"})}),(0,t.jsx)(e.td,{children:"Basic"}),(0,t.jsx)(e.td,{children:"Photorealistic"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"UI/UX"})}),(0,t.jsx)(e.td,{children:"Limited"}),(0,t.jsx)(e.td,{children:"Professional"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Rendering performance"})}),(0,t.jsx)(e.td,{children:"Moderate"}),(0,t.jsx)(e.td,{children:"Excellent"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Ease of use"})}),(0,t.jsx)(e.td,{children:"Steep learning curve"}),(0,t.jsx)(e.td,{children:"More accessible"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"ROS integration"})}),(0,t.jsx)(e.td,{children:"Native"}),(0,t.jsx)(e.td,{children:"via ROS-Unity bridge"})]})]})]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Common use cases:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Digital twin visualization for remote monitoring"}),"\n",(0,t.jsx)(e.li,{children:"Training data generation for computer vision"}),"\n",(0,t.jsx)(e.li,{children:"VR/AR teleoperation interfaces"}),"\n",(0,t.jsx)(e.li,{children:"Customer demos and presentations"}),"\n",(0,t.jsx)(e.li,{children:"Synthetic data generation for ML"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"This chapter teaches how to use Unity alongside ROS 2 for advanced robot visualization."}),"\n",(0,t.jsx)(e.h2,{id:"1-unity-fundamentals",children:"1. Unity Fundamentals"}),"\n",(0,t.jsx)(e.h3,{id:"unity-editor-overview",children:"Unity Editor Overview"}),"\n",(0,t.jsx)(e.p,{children:"Unity's editor is organized into several key panels:"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"1. Hierarchy"}),": Tree view of all GameObjects in the scene\n",(0,t.jsx)(e.strong,{children:"2. Scene View"}),": 3D viewport for positioning objects\n",(0,t.jsx)(e.strong,{children:"3. Game View"}),": Runtime preview of what the camera sees\n",(0,t.jsx)(e.strong,{children:"4. Inspector"}),": Properties panel for selected GameObject\n",(0,t.jsx)(e.strong,{children:"5. Project"}),": File browser for assets (models, scripts, materials)\n",(0,t.jsx)(e.strong,{children:"6. Console"}),": Debug logs and error messages"]}),"\n",(0,t.jsx)(e.h3,{id:"gameobjects-and-components",children:"GameObjects and Components"}),"\n",(0,t.jsxs)(e.p,{children:["Unity uses an ",(0,t.jsx)(e.strong,{children:"Entity-Component-System (ECS)"})," architecture:"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"GameObject"}),": A container for components (like a ROS 2 node)\n",(0,t.jsx)(e.strong,{children:"Component"}),": Modular functionality attached to GameObjects"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Common components:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Transform"}),": Position, rotation, scale (every GameObject has this)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"MeshRenderer"}),": Displays 3D model"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Collider"}),": Physics collision detection"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Rigidbody"}),": Physics simulation (gravity, forces)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Script"}),": Custom behavior (C#)"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Example hierarchy for a robot:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Robot (GameObject)\n\u251c\u2500\u2500 Transform\n\u251c\u2500\u2500 MeshRenderer (robot body)\n\u251c\u2500\u2500 Rigidbody (physics)\n\u2514\u2500\u2500 RobotController (custom script)\n    \u251c\u2500\u2500 LeftWheel (child GameObject)\n    \u2502   \u251c\u2500\u2500 Transform\n    \u2502   \u2514\u2500\u2500 MeshRenderer\n    \u2514\u2500\u2500 RightWheel (child GameObject)\n        \u251c\u2500\u2500 Transform\n        \u2514\u2500\u2500 MeshRenderer\n"})}),"\n",(0,t.jsx)(e.h3,{id:"coordinate-systems",children:"Coordinate Systems"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Unity vs ROS coordinate systems differ:"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Axis"}),(0,t.jsx)(e.th,{children:"Unity"}),(0,t.jsx)(e.th,{children:"ROS"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Forward"})}),(0,t.jsx)(e.td,{children:"+Z"}),(0,t.jsx)(e.td,{children:"+X"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Right"})}),(0,t.jsx)(e.td,{children:"+X"}),(0,t.jsx)(e.td,{children:"-Y"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Up"})}),(0,t.jsx)(e.td,{children:"+Y"}),(0,t.jsx)(e.td,{children:"+Z"})]})]})]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Conversion required when bridging Unity \u2194 ROS:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:"// Unity to ROS\nVector3 UnityToROS(Vector3 unityPos)\n{\n    return new Vector3(\n        unityPos.z,  // Unity Z \u2192 ROS X (forward)\n        -unityPos.x, // Unity X \u2192 ROS -Y (right)\n        unityPos.y   // Unity Y \u2192 ROS Z (up)\n    );\n}\n\n// ROS to Unity\nVector3 ROSToUnity(Vector3 rosPos)\n{\n    return new Vector3(\n        -rosPos.y,   // ROS -Y \u2192 Unity X\n        rosPos.z,    // ROS Z \u2192 Unity Y\n        rosPos.x     // ROS X \u2192 Unity Z\n    );\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"materials-and-rendering",children:"Materials and Rendering"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Materials"})," define how surfaces appear:"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Standard shader properties:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Albedo"}),": Base color/texture"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Metallic"}),": How metallic the surface is (0-1)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Smoothness"}),": How smooth/rough (0-1)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Normal Map"}),": Surface detail without adding geometry"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Emission"}),": Self-illuminating surfaces"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Example: Creating a robot material"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// C# script to create material programmatically\nusing UnityEngine;\n\npublic class RobotMaterial : MonoBehaviour\n{\n    void Start()\n    {\n        // Get renderer component\n        Renderer renderer = GetComponent<Renderer>();\n\n        // Create new material\n        Material robotMat = new Material(Shader.Find("Standard"));\n\n        // Set properties\n        robotMat.color = Color.gray;\n        robotMat.SetFloat("_Metallic", 0.5f);\n        robotMat.SetFloat("_Glossiness", 0.7f);\n\n        // Apply material\n        renderer.material = robotMat;\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"2-ros-unity-bridge",children:"2. ROS-Unity Bridge"}),"\n",(0,t.jsx)(e.h3,{id:"installation-and-setup",children:"Installation and Setup"}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.strong,{children:"ROS-Unity Bridge"})," enables bidirectional communication between ROS 2 and Unity."]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Architecture:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"ROS 2 (Python/C++)  \u2190\u2192  ROS-Unity Bridge  \u2190\u2192  Unity (C#)\n     (Robot)              (TCP/WebSocket)        (Visualization)\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Installation steps:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Unity side"}),": Install ROS-TCP-Connector package"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Window \u2192 Package Manager \u2192 Add package from git URL\nhttps://github.com/Unity-Technologies/ROS-TCP-Connector.git\n"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"ROS side"}),": Install ROS-TCP-Endpoint"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"cd ~/ros2_ws/src\ngit clone https://github.com/Unity-Technologies/ROS-TCP-Endpoint\ncd ~/ros2_ws\ncolcon build --packages-select ros_tcp_endpoint\n"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Configure Unity"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Create GameObject with ",(0,t.jsx)(e.code,{children:"ROSConnection"})," component"]}),"\n",(0,t.jsxs)(e.li,{children:["Set ROS IP address (e.g., ",(0,t.jsx)(e.code,{children:"192.168.1.100"}),")"]}),"\n",(0,t.jsxs)(e.li,{children:["Set port (default: ",(0,t.jsx)(e.code,{children:"10000"}),")"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Launch ROS endpoint"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"publishing-from-unity-to-ros",children:"Publishing from Unity to ROS"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Example: Send Unity sensor data to ROS"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'using RosMessageTypes.Sensor;\nusing Unity.Robotics.ROSTCPConnector;\nusing UnityEngine;\n\npublic class CameraPublisher : MonoBehaviour\n{\n    private ROSConnection ros;\n    private string topicName = "unity/camera";\n\n    void Start()\n    {\n        // Get ROS connection\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.RegisterPublisher<ImageMsg>(topicName);\n    }\n\n    void Update()\n    {\n        // Publish at 10 Hz\n        if (Time.frameCount % 6 == 0)\n        {\n            ImageMsg msg = new ImageMsg\n            {\n                header = new HeaderMsg\n                {\n                    stamp = new TimeMsg\n                    {\n                        sec = (int)Time.time,\n                        nanosec = (uint)((Time.time % 1) * 1e9)\n                    },\n                    frame_id = "camera_frame"\n                },\n                height = 480,\n                width = 640,\n                encoding = "rgb8"\n            };\n\n            ros.Publish(topicName, msg);\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"subscribing-in-unity-to-ros",children:"Subscribing in Unity to ROS"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Example: Receive ROS Twist messages to control Unity robot"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'using RosMessageTypes.Geometry;\nusing Unity.Robotics.ROSTCPConnector;\nusing UnityEngine;\n\npublic class TwistSubscriber : MonoBehaviour\n{\n    private ROSConnection ros;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.Subscribe<TwistMsg>("cmd_vel", ReceiveTwist);\n    }\n\n    void ReceiveTwist(TwistMsg twist)\n    {\n        // Convert ROS Twist to Unity movement\n        float linearX = (float)twist.linear.x;\n        float angularZ = (float)twist.angular.z;\n\n        // Apply to robot (simplified)\n        transform.Translate(0, 0, linearX * Time.deltaTime);\n        transform.Rotate(0, angularZ * Mathf.Rad2Deg * Time.deltaTime, 0);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"service-calls-from-unity",children:"Service Calls from Unity"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'using RosMessageTypes.Std;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.ROSGeometry;\nusing UnityEngine;\n\npublic class ServiceCaller : MonoBehaviour\n{\n    private ROSConnection ros;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n    }\n\n    public void CallResetService()\n    {\n        // Create request\n        EmptyRequest request = new EmptyRequest();\n\n        // Send service call\n        ros.SendServiceMessage<EmptyResponse>(\n            "reset_simulation",\n            request,\n            OnServiceResponse\n        );\n    }\n\n    void OnServiceResponse(EmptyResponse response)\n    {\n        Debug.Log("Service call completed");\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"3-3d-visualization",children:"3. 3D Visualization"}),"\n",(0,t.jsx)(e.h3,{id:"importing-robot-models",children:"Importing Robot Models"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"URDF to Unity conversion:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Use URDF Importer package"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Window \u2192 Package Manager \u2192 URDF Importer\n"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Import URDF"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Assets \u2192 Import Robot from URDF\n"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Unity creates"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"GameObjects for each link"}),"\n",(0,t.jsx)(e.li,{children:"ArticulationBody for joints (physics)"}),"\n",(0,t.jsx)(e.li,{children:"MeshRenderers for visual models"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Alternative: Import from FBX/OBJ"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Export from Blender/CAD tools"}),"\n",(0,t.jsx)(e.li,{children:"Drag into Unity Assets folder"}),"\n",(0,t.jsx)(e.li,{children:"Maintains materials and textures"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"visualizing-sensor-data",children:"Visualizing Sensor Data"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"LiDAR Point Cloud Visualization:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'using RosMessageTypes.Sensor;\nusing Unity.Robotics.ROSTCPConnector;\nusing UnityEngine;\n\npublic class LidarVisualizer : MonoBehaviour\n{\n    private ParticleSystem particles;\n    private ParticleSystem.Particle[] points;\n\n    void Start()\n    {\n        // Create particle system for point cloud\n        particles = gameObject.AddComponent<ParticleSystem>();\n        var main = particles.main;\n        main.loop = false;\n        main.playOnAwake = false;\n        main.maxParticles = 10000;\n\n        // Subscribe to LaserScan\n        ROSConnection.GetOrCreateInstance()\n            .Subscribe<LaserScanMsg>("scan", VisualizeScan);\n    }\n\n    void VisualizeScan(LaserScanMsg scan)\n    {\n        int numPoints = scan.ranges.Length;\n        points = new ParticleSystem.Particle[numPoints];\n\n        for (int i = 0; i < numPoints; i++)\n        {\n            float range = scan.ranges[i];\n            float angle = scan.angle_min + i * scan.angle_increment;\n\n            // Convert polar to Cartesian (Unity coordinates)\n            Vector3 position = new Vector3(\n                range * Mathf.Cos(angle),\n                0,\n                range * Mathf.Sin(angle)\n            );\n\n            points[i].position = position;\n            points[i].startSize = 0.05f;\n            points[i].startColor = Color.red;\n        }\n\n        particles.SetParticles(points, numPoints);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Camera Feed Visualization:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'using RosMessageTypes.Sensor;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class CameraFeedVisualizer : MonoBehaviour\n{\n    public RawImage displayImage;\n    private Texture2D texture;\n\n    void Start()\n    {\n        texture = new Texture2D(640, 480, TextureFormat.RGB24, false);\n        displayImage.texture = texture;\n\n        ROSConnection.GetOrCreateInstance()\n            .Subscribe<ImageMsg>("camera/image", UpdateImage);\n    }\n\n    void UpdateImage(ImageMsg msg)\n    {\n        // Load image data into texture\n        texture.LoadRawTextureData(msg.data);\n        texture.Apply();\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"trajectory-visualization",children:"Trajectory Visualization"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\n\npublic class PathVisualizer : MonoBehaviour\n{\n    private LineRenderer lineRenderer;\n    private List<Vector3> pathPoints = new List<Vector3>();\n\n    void Start()\n    {\n        lineRenderer = gameObject.AddComponent<LineRenderer>();\n        lineRenderer.startWidth = 0.1f;\n        lineRenderer.endWidth = 0.1f;\n        lineRenderer.material = new Material(Shader.Find("Sprites/Default"));\n        lineRenderer.startColor = Color.green;\n        lineRenderer.endColor = Color.yellow;\n    }\n\n    public void AddPathPoint(Vector3 point)\n    {\n        pathPoints.Add(point);\n        lineRenderer.positionCount = pathPoints.Count;\n        lineRenderer.SetPositions(pathPoints.ToArray());\n    }\n\n    public void ClearPath()\n    {\n        pathPoints.Clear();\n        lineRenderer.positionCount = 0;\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"4-user-interfaces",children:"4. User Interfaces"}),"\n",(0,t.jsx)(e.h3,{id:"unity-ui-ugui-basics",children:"Unity UI (uGUI) Basics"}),"\n",(0,t.jsxs)(e.p,{children:["Unity provides a powerful ",(0,t.jsx)(e.strong,{children:"Canvas-based UI system"}),":"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"UI Hierarchy:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Canvas (screen space)\n\u251c\u2500\u2500 Panel (background)\n\u2502   \u251c\u2500\u2500 Text (labels)\n\u2502   \u251c\u2500\u2500 Button (controls)\n\u2502   \u251c\u2500\u2500 Slider (adjustable values)\n\u2502   \u2514\u2500\u2500 InputField (text entry)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"robot-control-panel-example",children:"Robot Control Panel Example"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing UnityEngine.UI;\n\npublic class RobotControlPanel : MonoBehaviour\n{\n    public Slider speedSlider;\n    public Text speedText;\n    public Button startButton;\n    public Button stopButton;\n    public Text statusText;\n\n    private bool robotRunning = false;\n\n    void Start()\n    {\n        // Configure slider\n        speedSlider.minValue = 0f;\n        speedSlider.maxValue = 2.0f;\n        speedSlider.value = 1.0f;\n        speedSlider.onValueChanged.AddListener(OnSpeedChanged);\n\n        // Configure buttons\n        startButton.onClick.AddListener(StartRobot);\n        stopButton.onClick.AddListener(StopRobot);\n\n        UpdateStatus("Ready");\n    }\n\n    void OnSpeedChanged(float value)\n    {\n        speedText.text = $"Speed: {value:F2} m/s";\n        // Send to ROS via bridge\n        SendSpeedCommand(value);\n    }\n\n    void StartRobot()\n    {\n        robotRunning = true;\n        UpdateStatus("Running");\n        // Publish ROS start command\n    }\n\n    void StopRobot()\n    {\n        robotRunning = false;\n        UpdateStatus("Stopped");\n        // Publish ROS stop command\n    }\n\n    void UpdateStatus(string message)\n    {\n        statusText.text = $"Status: {message}";\n        statusText.color = robotRunning ? Color.green : Color.red;\n    }\n\n    void SendSpeedCommand(float speed)\n    {\n        // Publish Twist message via ROS-Unity bridge\n        var twist = new TwistMsg();\n        twist.linear.x = speed;\n        ROSConnection.GetOrCreateInstance().Publish("cmd_vel", twist);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"telemetry-dashboard",children:"Telemetry Dashboard"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing UnityEngine.UI;\n\npublic class TelemetryDashboard : MonoBehaviour\n{\n    public Text batteryText;\n    public Text velocityText;\n    public Text positionText;\n    public Image batteryBar;\n\n    void Start()\n    {\n        // Subscribe to robot telemetry\n        ROSConnection.GetOrCreateInstance()\n            .Subscribe<BatteryStateMsg>("battery_state", UpdateBattery);\n        ROSConnection.GetOrCreateInstance()\n            .Subscribe<TwistMsg>("odom", UpdateVelocity);\n    }\n\n    void UpdateBattery(BatteryStateMsg msg)\n    {\n        float percentage = msg.percentage;\n        batteryText.text = $"Battery: {percentage:F1}%";\n\n        // Update battery bar color\n        batteryBar.fillAmount = percentage / 100f;\n        batteryBar.color = percentage > 20 ? Color.green : Color.red;\n    }\n\n    void UpdateVelocity(TwistMsg msg)\n    {\n        float speed = Mathf.Sqrt(\n            (float)(msg.linear.x * msg.linear.x +\n                    msg.linear.y * msg.linear.y)\n        );\n        velocityText.text = $"Speed: {speed:F2} m/s";\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"5-real-time-rendering",children:"5. Real-Time Rendering"}),"\n",(0,t.jsx)(e.h3,{id:"frame-rate-optimization",children:"Frame Rate Optimization"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Target: 60 FPS minimum for smooth visualization"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Optimization techniques:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Level of Detail (LOD)"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:"// Simplify geometry at distance\nLODGroup lodGroup = gameObject.AddComponent<LODGroup>();\n"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Occlusion Culling"}),": Don't render hidden objects"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Window \u2192 Rendering \u2192 Occlusion Culling\n"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Reduce draw calls"}),": Batch similar materials"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Use GPU instancing"}),": For repeated objects"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Limit shadow casters"}),": Expensive feature"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"camera-setup-for-robotics",children:"Camera Setup for Robotics"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:"using UnityEngine;\n\npublic class RobotCamera : MonoBehaviour\n{\n    public Transform robotTransform;\n    public float followDistance = 5f;\n    public float followHeight = 3f;\n    public float rotationSpeed = 5f;\n\n    void LateUpdate()\n    {\n        // Follow robot smoothly\n        Vector3 targetPosition = robotTransform.position\n            - robotTransform.forward * followDistance\n            + Vector3.up * followHeight;\n\n        transform.position = Vector3.Lerp(\n            transform.position,\n            targetPosition,\n            Time.deltaTime * rotationSpeed\n        );\n\n        // Look at robot\n        transform.LookAt(robotTransform.position + Vector3.up);\n    }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"lighting-for-clarity",children:"Lighting for Clarity"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best practices for robot visualization:"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"1. Directional Light"})," (sun):"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Illuminates entire scene"}),"\n",(0,t.jsx)(e.li,{children:"Shadows for depth perception"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"2. Fill Lights"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Reduce harsh shadows"}),"\n",(0,t.jsx)(e.li,{children:"Use lower intensity"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"3. Skybox"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Ambient lighting"}),"\n",(0,t.jsx)(e.li,{children:"Reflections on metallic surfaces"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Example lighting setup:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'public class LightingSetup : MonoBehaviour\n{\n    void Start()\n    {\n        // Main directional light\n        GameObject sun = new GameObject("Directional Light");\n        Light sunLight = sun.AddComponent<Light>();\n        sunLight.type = LightType.Directional;\n        sunLight.intensity = 1.0f;\n        sunLight.shadows = LightShadows.Soft;\n        sun.transform.rotation = Quaternion.Euler(50, -30, 0);\n\n        // Ambient lighting\n        RenderSettings.ambientMode = UnityEngine.Rendering.AmbientMode.Skybox;\n        RenderSettings.ambientIntensity = 0.5f;\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(e.p,{children:"Key takeaways:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Unity"})," provides superior visualization and UI capabilities for robotics"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"ROS-Unity Bridge"})," enables real-time communication between ROS 2 and Unity"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Coordinate system conversion"})," is required (Unity Y-up vs ROS Z-up)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"GameObjects and Components"})," form Unity's entity-component architecture"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"3D visualization"})," supports robot models, sensor data, and trajectories"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"UI toolkit"})," enables professional control panels and dashboards"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Real-time rendering"})," requires optimization for 60+ FPS"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Unity vs Gazebo use cases:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Use Gazebo"}),": Physics simulation, testing control algorithms"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Use Unity"}),": Visualization, demos, UI development, VR/AR, synthetic data"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Use both"}),": Gazebo for sim, Unity for visualization (via bridge)"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"What are the main advantages of Unity over Gazebo for robot visualization?"}),"\n",(0,t.jsx)(e.li,{children:"How do you convert coordinates from Unity to ROS coordinate systems?"}),"\n",(0,t.jsx)(e.li,{children:"What is the purpose of the ROS-Unity Bridge?"}),"\n",(0,t.jsx)(e.li,{children:"How would you visualize a LiDAR point cloud in Unity?"}),"\n",(0,t.jsx)(e.li,{children:"What techniques can improve rendering performance in Unity?"}),"\n",(0,t.jsx)(e.li,{children:"When would you choose Unity over Gazebo for a robotics project?"}),"\n",(0,t.jsx)(e.li,{children:"How do you subscribe to ROS topics from Unity C# scripts?"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"hands-on-exercises",children:"Hands-on Exercises"}),"\n",(0,t.jsx)(e.h3,{id:"exercise-1-basic-unity-scene",children:"Exercise 1: Basic Unity Scene"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Create Unity project"}),"\n",(0,t.jsx)(e.li,{children:"Import robot URDF"}),"\n",(0,t.jsx)(e.li,{children:"Set up ROS-Unity bridge"}),"\n",(0,t.jsxs)(e.li,{children:["Subscribe to ",(0,t.jsx)(e.code,{children:"/cmd_vel"})," and move robot in Unity"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"exercise-2-sensor-visualization",children:"Exercise 2: Sensor Visualization"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Add camera to robot"}),"\n",(0,t.jsx)(e.li,{children:"Publish camera feed from Unity to ROS"}),"\n",(0,t.jsx)(e.li,{children:"Subscribe to LiDAR data and visualize as point cloud"}),"\n",(0,t.jsx)(e.li,{children:"Display both visualizations in UI"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"exercise-3-control-dashboard",children:"Exercise 3: Control Dashboard"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Create UI canvas with control panel"}),"\n",(0,t.jsx)(e.li,{children:"Add speed slider that publishes Twist messages"}),"\n",(0,t.jsx)(e.li,{children:"Display robot telemetry (battery, position, velocity)"}),"\n",(0,t.jsx)(e.li,{children:"Implement start/stop buttons"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/Unity-Robotics-Hub",children:"Unity-Robotics-Hub Documentation"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/ROS-TCP-Connector",children:"ROS-Unity Bridge Tutorial"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.unity3d.com/Manual/index.html",children:"Unity Manual"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.unity3d.com/ScriptReference/",children:"Unity Scripting Reference"})}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Next Chapter"}),": ",(0,t.jsx)(e.a,{href:"/AI_COURSE_book/docs/module-02-digital-twin/week-07/ch10-digital-twin",children:"Digital Twin Concepts \u2192"})]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Previous Chapter"}),": ",(0,t.jsx)(e.a,{href:"/AI_COURSE_book/docs/module-02-digital-twin/week-06/ch08-sensor-modeling",children:"\u2190 Sensor Modeling in Simulation"})]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function o(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);