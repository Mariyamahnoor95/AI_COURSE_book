"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4583],{4104:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(4164),n=t(8774),i=t(4586),o=t(1656),c=t(1107),r=t(6540);const l={chatButton:"chatButton_P99F",chatWidget:"chatWidget_U31n",slideUp:"slideUp_JR59",chatHeader:"chatHeader_fmLJ",closeButton:"closeButton_yIbo",messageList:"messageList_D7Fz",emptyState:"emptyState_Fyss",message:"message_L7m0",fadeIn:"fadeIn_oP49",user:"user_xkr8",assistant:"assistant_unk4",messageContent:"messageContent_Z1zw",messageTimestamp:"messageTimestamp_n_O8",citations:"citations_bJHa",citationsTitle:"citationsTitle_lEvh",citationLink:"citationLink_Kw5L",loadingDots:"loadingDots_sWxq",bounce:"bounce_aAPf",chatInputContainer:"chatInputContainer_FyoM",chatInput:"chatInput_Qgs1",sendButton:"sendButton_igsK"};var d=t(4848);const h=({onSendMessage:e,disabled:s=!1})=>{const[t,a]=(0,r.useState)(""),n=(0,r.useCallback)(()=>{t.trim()&&!s&&(e(t.trim()),a(""))},[t,s,e]),i=(0,r.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n())},[n]);return(0,d.jsxs)("div",{className:l.chatInputContainer,children:[(0,d.jsx)("textarea",{className:l.chatInput,value:t,onChange:e=>a(e.target.value),onKeyPress:i,placeholder:"Ask a question about the textbook...",disabled:s,rows:2,"aria-label":"Chat message input"}),(0,d.jsx)("button",{className:l.sendButton,onClick:n,disabled:s||!t.trim(),"aria-label":"Send message",children:s?"\u23f3":"\u27a4"})]})},m=({messages:e,isLoading:s})=>{const t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{t.current?.scrollIntoView({behavior:"smooth"})},[e]),(0,d.jsxs)("div",{className:l.messageList,children:[0===e.length&&!s&&(0,d.jsxs)("div",{className:l.emptyState,children:[(0,d.jsx)("p",{children:"\ud83d\udc4b Hi! I'm your textbook assistant."}),(0,d.jsx)("p",{children:"Ask me anything about Physical AI and Humanoid Robotics!"})]}),e.map(e=>(0,d.jsxs)("div",{className:`${l.message} ${l[e.role]}`,children:[(0,d.jsxs)("div",{className:l.messageContent,children:[e.content.split("\n").map((e,s)=>(0,d.jsx)("p",{children:e||(0,d.jsx)("br",{})},s)),e.citations&&e.citations.length>0&&(0,d.jsxs)("div",{className:l.citations,children:[(0,d.jsx)("p",{className:l.citationsTitle,children:"\ud83d\udcda Sources:"}),(0,d.jsx)("ul",{children:e.citations.map((e,s)=>(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:l.citationLink,children:[e.chapter_title,": ",e.heading]})},s))})]})]}),(0,d.jsx)("div",{className:l.messageTimestamp,children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},e.id)),s&&(0,d.jsx)("div",{className:`${l.message} ${l.assistant}`,children:(0,d.jsx)("div",{className:l.messageContent,children:(0,d.jsxs)("div",{className:l.loadingDots,children:[(0,d.jsx)("span",{}),(0,d.jsx)("span",{}),(0,d.jsx)("span",{})]})})}),(0,d.jsx)("div",{ref:t})]})},u=({apiBaseUrl:e="http://localhost:8000/v1"})=>{const[s,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)([]),[i,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),g=(0,r.useCallback)(()=>{t(e=>!e)},[]),x=(0,r.useCallback)(async s=>{if(!s.trim())return;const t={id:Date.now().toString(),role:"user",content:s,timestamp:new Date};n(e=>[...e,t]),u(!0);try{const t=await fetch(`${e}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:i,message:s,context:{mode:"full_textbook",selected_module_ids:[],selected_chapter_ids:[]}})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();a.session_id&&!i&&o(a.session_id);const c={id:(Date.now()+1).toString(),role:"assistant",content:a.message,citations:a.citations,timestamp:new Date};n(e=>[...e,c])}catch(a){console.error("Error sending message:",a);const e={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error processing your request. Please try again.",timestamp:new Date};n(s=>[...s,e])}finally{u(!1)}},[e,i]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:l.chatButton,onClick:g,"aria-label":s?"Close chat":"Open chat",title:s?"Close chat":"Ask a question about the textbook",children:s?"\u2715":"\ud83d\udcac"}),s&&(0,d.jsxs)("div",{className:l.chatWidget,children:[(0,d.jsxs)("div",{className:l.chatHeader,children:[(0,d.jsx)("h3",{children:"Textbook Assistant"}),(0,d.jsx)("button",{className:l.closeButton,onClick:g,"aria-label":"Close chat",children:"\u2715"})]}),(0,d.jsx)(m,{messages:a,isLoading:c}),(0,d.jsx)(h,{onSendMessage:x,disabled:c})]})]})},g={heroBanner:"heroBanner_qdFl",buttons:"buttons_AeoN"};function x(){const{siteConfig:e}=(0,i.A)();return(0,d.jsx)("header",{className:(0,a.A)("hero hero--primary",g.heroBanner),children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)(c.A,{as:"h1",className:"hero__title",children:e.title}),(0,d.jsx)("p",{className:"hero__subtitle",children:e.tagline}),(0,d.jsx)("div",{className:g.buttons,children:(0,d.jsx)(n.A,{className:"button button--secondary button--lg",to:"/docs/intro",children:"Start Learning"})})]})})}function p(){const{siteConfig:e}=(0,i.A)();return(0,d.jsxs)(o.A,{title:`${e.title}`,description:"A comprehensive guide to Physical AI and Humanoid Robotics",children:[(0,d.jsx)(x,{}),(0,d.jsx)("main",{}),(0,d.jsx)(u,{})]})}}}]);